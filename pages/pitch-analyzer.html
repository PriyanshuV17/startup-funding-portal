<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pitch Analyzer | FundFusion</title>
  <link rel="stylesheet" href="../styles/style.css" />
  <link rel="icon" type="image/png" href="../assets/logo.png" />
</head>
<body>

  <!-- Navbar -->
  <header class="navbar glass">
    <div class="container nav-content">
      <div class="logo-area">
        <img src="../assets/logo.png" class="logo" alt="logo" />
        <h1 class="brand">FundFusion</h1>
      </div>
      <nav class="nav-links">
        <a href="../index.html">Home</a>
        <a href="dashboard.html">Dashboard</a>
        <a href="pitch-analyzer.html" class="active">Pitch Analyzer</a>
      </nav>
    </div>
  </header>

  <!-- Pitch Analyzer Section -->
  <section class="analyzer-section">
    <div class="analyzer-card">
      <h2>AI Pitch Analyzer</h2>
      <p>Upload your pitch deck or executive summary to get an AI-powered evaluation score.</p>

      <div class="upload-box" id="uploadBox">
        <input type="file" id="fileInput" accept=".pdf,.ppt,.pptx" />
        <label for="fileInput" class="upload-label">üìÑ Choose your pitch deck</label>
      </div>

      <button id="analyzeBtn" class="btn-glow">Analyze Pitch</button>

      <div class="progress-container" id="progressContainer" style="display:none;">
        <div class="progress-bar" id="progressBar"></div>
        <p id="progressText">Analyzing...</p>
      </div>

      <div class="result-container" id="resultContainer" style="display:none;">
        <h3>Pitch Score: <span id="scoreValue">0</span>/10</h3>
        <p id="scoreFeedback"></p>
      </div>
    </div>
  </section>

  <footer class="footer">
    <p>¬© <span id="year"></span> FundFusion</p>
  </footer>

  <script src="../scripts/main.js"></script>
  <script>
    const analyzeBtn = document.getElementById("analyzeBtn");
    const progressContainer = document.getElementById("progressContainer");
    const progressBar = document.getElementById("progressBar");
    const progressText = document.getElementById("progressText");
    const resultContainer = document.getElementById("resultContainer");
    const scoreValue = document.getElementById("scoreValue");
    const scoreFeedback = document.getElementById("scoreFeedback");

    analyzeBtn.addEventListener("click", () => {
      const fileInput = document.getElementById("fileInput");
      if (!fileInput.files.length) {
        alert("Please upload your pitch deck first!");
        return;
      }

      analyzeBtn.style.display = "none";
      progressContainer.style.display = "block";
      progressBar.style.width = "0%";
      progressText.innerText = "Analyzing...";

      let progress = 0;
      const interval = setInterval(() => {
        progress += Math.random() * 15;
        progressBar.style.width = `${Math.min(progress, 100)}%`;

        if (progress >= 100) {
          clearInterval(interval);
          setTimeout(() => {
            const score = (Math.random() * 4 + 6).toFixed(1); // between 6.0 - 10.0
            progressContainer.style.display = "none";
            resultContainer.style.display = "block";
            scoreValue.innerText = score;

            let feedback;
            if (score > 9) feedback = "üåü Outstanding clarity, innovation, and business potential!";
            else if (score > 8) feedback = "üöÄ Strong pitch with clear market fit. Great job!";
            else if (score > 7) feedback = "üëç Solid effort. Enhance your financial clarity.";
            else feedback = "üß© Needs improvement. Clarify your scalability and vision.";

            scoreFeedback.innerText = feedback;
          }, 500);
        }
      }, 500);
    });
  </script>
</body>
</html>
